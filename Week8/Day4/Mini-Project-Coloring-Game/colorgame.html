<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Project Coloring Squares</title>
    <link rel="stylesheet" href="styles.css" />

</head>
<body>
  <div id="palette-container">
  <button id="clear">Clear</button>

  <!-- Palette of colors -->
  <div id="palette"> 
  <div class="color" style="background:#ff0000;"></div>
  <div class="color" style="background:#ff5100;"></div>
  <div class="color" style="background:#ffa012;"></div>
  <div class="color" style="background:#fcd912;"></div>
  <div class="color" style="background:#52b319;"></div>
  <div class="color" style="background:#77f882;"></div>
  <div class="color" style="background:#03682d;"></div>
  <div class="color" style="background:#10dfa1;"></div>
  <div class="color" style="background:#10dcf7;"></div>
  <div class="color" style="background:#31b8f7;"></div>
  <div class="color" style="background:#1a76ee;"></div>
  <div class="color" style="background:#2600ff;"></div>
  <div class="color" style="background:#040668;"></div>
  <div class="color" style="background:#420864;"></div>
  <div class="color" style="background:#a201ff;"></div>
  <div class="color" style="background:#fc21df;"></div>
  <div class="color" style="background:#f777d7;"></div>
  <div class="color" style="background:#858484;"></div>
  <div class="color" style="background:#474747;"></div>
  <div class="color" style="background:#000000;"></div>
  <div class="color" style="background:#ffffff;"></div>
      </div>
  </div>
  
<div id="canvas">
  <!-- <canvas id="pixelCanvas"></canvas> -->
  <!-- Сетка пикселей -->
</div>

<script src="script.js">
// Get the canvas and palette elements from the DOM
const canvas = document.getElementById('canvas');
const palette = document.getElementById('palette');

// Default selected color for drawing
let selectedColor = '#000';

// Flag to track whether the mouse is currently drawing
let isDrawing = false;

// Calculate the number of columns and rows based on window size
const cols = Math.floor(window.innerWidth / 21); // 20px pixel + 1px gap
const rows = Math.floor(window.innerHeight / 21);

// Handle color selection from the palette
palette.querySelectorAll('.color').forEach(colorDiv => {
  colorDiv.addEventListener('click', () => {
    // Get the background color of the clicked palette item
    selectedColor = window.getComputedStyle(colorDiv).backgroundColor;
  });
});

// Create pixel grid
for (let i = 0; i < cols * rows; i++) {
  const pixel = document.createElement('div');
  pixel.classList.add('pixel');

  // Start drawing on mouse down
  pixel.addEventListener('mousedown', () => {
    pixel.style.backgroundColor = selectedColor;
    isDrawing = true;
  });

  // Continue drawing when mouse enters pixel while mouse is pressed
  pixel.addEventListener('mouseenter', () => {
    if (isDrawing) {
      pixel.style.backgroundColor = selectedColor;
    }
  });

  // Add pixel to the canvas
  canvas.appendChild(pixel);
}

// Stop drawing when mouse button is released
document.addEventListener('mouseup', () => {
  isDrawing = false;
});

// Clear all pixels when the "clear" button is clicked
document.getElementById('clear').addEventListener('click', () => {
  const pixels = document.querySelectorAll('.pixel');
  pixels.forEach(pixel => {
    pixel.style.backgroundColor = 'white'; // Reset to default color
  });
});

</script>

</body>
</html>